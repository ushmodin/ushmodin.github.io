---
draft: true
layout: post
title: Stream
tags:
  - java
  - stream-api
main-class: stream-api
categories:
  - stream-api
introduction: Stream без его API
---

**Друзья, всем примет!**

Strema-API крутая, по меркам мира Java, штука. Все её с нетерпением ждали. Когда вышел релиз Java8, все кто мог начал её использовать или писать обзоры, статьи, примеры. И вот что меня смутило. В большинстве источников которые я находил основной акцент делался на возможности которые принес с собой Stream-API. О том как как теперь ёмко и лаконично выгляди код работающий с коллекциями. Но ведь работа с коллекциями это только побочный эффект Stream-API. Сами по себе Stream'ы более широкое понятие. Stream - это поток чего-либо и он описывает его. Поток не обязательно должен начинаться и необязательно должен заканчиваться. Но он обязательно состоит из последовательно идущих друг за другом элементов. 

```java
Random random = new Random();

Stream.generate(()->random.nextInt())
      .limit(5)
      .forEach(it->System.out.println(it));
```

Пример потока случайных чисел, который непонятно откуда начинается непонятно где заканчивается.

Еще один пример:

```java
Stream.iterate(1, a-> a << 1)
      .limit(10)
      .forEach(it->System.out.println(String.format("%d-%04x", it, it)));
```

Хоть потоки бесконечные, но для вывода нам их пришлось ограничить. Ведь мы не Чак Норис.

Разумеет в 99% случаев Stream'мы используются поверх коллекций. Ведь все cовременные API используют массивы или листы.

```java
List<Employer> employers = database.getEmployers();
employers.stream()
         .flatMap(it-> Stream.of(it.getName() + " " + it.getJob().getName()))
         .forEach(System.out::println);
```

Но не исключено, что в будущем мы будем получать из внешних сервисов не коллекции а Stream'ы. Поэтому будет знать понимать фундаментальные понятия. Чтобы понимать что возможности Stream-API не ограничивают коллекциями. \m/ 
