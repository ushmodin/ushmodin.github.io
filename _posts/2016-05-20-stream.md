---
layout: post
title: Who is mister Stream?
tags:
  - java
  - stream-api
main-class: stream-api
categories:
  - stream-api
introduction: Stream без его API
---

**Друзья, всем привет!**

Strema-API крутая, по меркам мира Java, штука. Её с нетерпением ждали и, когда вышел релиз Java8, все кто мог начал её использовать, обсуждать или писать статьи. И вот что меня смутило. В большинстве источников которые я находил основной акцент делался на возможностях которые принес с собой Stream-API. О том как как теперь лаконично выгляди код работающий с коллекциями. Но ведь работа с коллекциями это только побочный эффект Stream-API. Сами по себе Stream'ы более широкое понятие. Stream - описывает поток чего-либо. Поток не обязательно должен начинаться и необязательно должен заканчиваться. Но он обязательно состоит из последовательно идущих друг за другом элементов одного типа. 

```java
Random random = new Random();

Stream.generate(()->random.nextInt())
      .limit(5)
      .forEach(it->System.out.println(it));
```

Пример потока случайных чисел, без начала и конца.

Еще один пример:

```java
Stream.iterate(1, a-> a << 1)
      .limit(10)
      .forEach(it->System.out.println(String.format("%d-%04x", it, it)));
```

Поток начинает с 1, а каждый следующий элемент вычисляется путем побитового смещения предыдущего значения.
Хоть потоки бесконечные, но для вывода нам их пришлось ограничить. Ведь мы не Чак Норис.

Разумеет в 99% случаев Stream'мы используются поверх коллекций. Ведь все современные API используют массивы или листы.

```java
List<Employer> employers = database.getEmployers();
employers.stream()
         .flatMap(it-> Stream.of(it.getName() + " " + it.getJob().getName()))
         .forEach(System.out::println);
```

Можно предположить, что в будущем мы будем получать из внешних сервисов не коллекции а Stream'ы. Поэтому будет полезным понимать, что возможности Stream-API не ограничиваются коллекциями. \m/ 
